## 贪吃蛇项目

项目名称：贪吃蛇

 本程序使用python

##### 游戏规则设计：

窗口大小固定，用网格线均分窗口页面，得出坐标。树莓将在网格线上除边界以外的网格内随机位置生成，且有两种颜色的树莓，红色树莓得1分，金色树莓得5分，两种树莓的出现具有随机性。蛇的初始长度为4节，每吃一个树莓，则长度增加一节。一旦蛇的首部触碰了窗口边界或者蛇的身体，则游戏结束

##### 代码思路：

首先要引入本项目需要用到的库，其中重点是pygame。设计好游戏规则之后，开始编写代码。

在主函数里先定义了常用的一些变量，比如字体颜色、背景颜色、窗口高度宽度、划分的小矩形的大小、游戏时钟等，定义好窗口，然后调用函数实现游戏

##### 本项目定义的函数详解：

start_UI()：

显示游戏名称和游戏规则，用pygame的font来调整字体，用get_rect()得到字的矩形，然后设置其在窗口的位置。右下角调用tip_to_start()来显示如何开始游戏。

tip_to_start()：

显示如何开始游戏：按任意键即可（之所以单独拎出来，是因为后面游戏结束之后还有再一次显示，拎出来可以减少代码累赘，提高利用率）。

if_is_pressed()：

监听键盘事件，并作出相应的响应。

play()：

游戏的主要过程函数。首先定义了蛇的初始长度和初始方向，并为蛇生成了随机位置。调用apple_position()生成树莓的随机位置，同时返回了一个【1,20】的随机数，该随机数若能被3整除，则生成金色树莓，反之则生成红色树莓，从而开始游戏。用游戏时钟刷新来做出蛇移动的效果。通过监听键盘事件，控制蛇的运动。当蛇的首部的位置与树莓的位置重合时，根据apple_position()返回的随机数来判断分数加多少，且生成一个新的树莓。当蛇的首部与蛇的身体的任意一节重合时，或者遇到边界，则视为游戏结束。

draw_snake()：

画出蛇

draw_apple()：

画出树莓

result()：

返回不同树莓的分值

show_result():

在窗口右上角显示实时得分

end_UI():

结束页面，蛇停止运动，出现game over字样，此时调用右下角调用tip_to_start()来显示如何开始新的游戏

game_over()：

退出游戏



##### 编写代码时遇到的困难：

1、刚开始未绘制网格线时，蛇难以对准树莓，很难看准，游戏体验感不好，所以后面加了网格线绘制，提升游戏的体验感

2、在写生成树莓的代码时，我本来是只定义了一个函数来画出树莓和返回树莓位置，结果出现了蛇还没有吃到树莓，但是树莓的颜色却在不停变换且分值也在不断增加的状况。后来我发现，是由于游戏时钟的关系，每一帧树莓都是重新画过的，这导致了每一帧的时候都在调用该函数变换树莓。所以最后我定义了一个函数专门返回树莓位置，且把控制树莓颜色的随机数也与之绑定，另一个函数专门画树莓，就能做到每一帧刷新但蛇尚未吃到树莓的时候，都能在同一个位置不断绘制同一个颜色的树莓，在视觉上就不会出错。